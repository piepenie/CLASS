-- INSERT
use shopdb;
select * from tbl_buy_copy3;
-- 여러 값 삽입
insert into tbl_buy_copy3 values
(8, 'aab', '운동화', '의류', 1000, 2),
(9, 'aac', '운동화', '의류', 1000, 2),
(10, 'aad', '운동화', '의류', 1000, 2),
(11, 'aae', '운동화', '의류', 1000, 2);

-- auto_increment
desc tbl_a;
insert into tbl_a(name) values('홍길동');
insert into tbl_a(name) values('고길동');
insert into tbl_a(name) values('남길동');
select * from tbl_a;
insert into tbl_a values(null,'김민수');
delete from tbl_a;
select * from tbl_a;

-- auto-inrcrement 초기화
delete from tbl_a;
alter table tbl_a auto_increment=0;
insert into tbl_a(name) values('홍길동');
select * from tbl_a;

-- UPDATE

-- DELETE

//

-- 제약조건

-- PK
create table tbl_a(
	id int primary key,
    name varchar(45)
);
desc tbl_a;
insert into tbl_a values(2, '홍길동');
insert into tbl_a values(1, '홍길동');
select * from tbl_a;

create table tbl_b(
	id int,
    name varchar(45) not null,
    primary key(id)
);
desc tbl_b;

create table tbl_c(
	id int,
    name varchar(45) not null,
    primary key(id,name)
);
desc tbl_c;
select * from information_schema.columns where table_schema='shopdb' and column_key='PRI';
create table tbl_d(
	id int,
    name varchar(45) not null
);
desc tbl_d;
-- PK 추가
alter table tbl_d add constraint PK_tbl_d primary key(id,name);
desc tbl_d;

-- PK 삭제
alter table tbl_d drop primary key;
desc tbl_d;

-- 문제 
-- buytbl 을 buytbl_copy 로 구조+데이터 복사(create table+select 이용) 하고 num를 primary key 로 설정 해보세요.
create table buytbl_copy(select * from buytbl);
select * from buytbl_copy;
desc buytbl_copy;
alter table buytbl_copy add constraint PK_buytbl_copy primary key(num);
desc buytbl_copy;

-- FK

create table tbl_a(
	id int primary key,
    name varchar(45)
);
desc tbl_a;

create table tbl_b(
	id int primary key,
    tbl_a_id int,
    name varchar(45),
    constraint Fk_tbl_b_tbl_a foreign key(tbl_a_id) references tbl_a(id)
);
desc tbl_b;

-- FK Options
-- RESTRICT		: PK,FK 열의 값의 변경 차단
-- CASCADE		: PK열의 값 on Update , on Delete 이 변경시 FK 열의 값도 함께 변경
-- SET NULL		: PK열의 값이 변경시 FK 열의 값을 NULL 로 설정
-- SET DEFAULT	: PK열의 값이 변경시 FK 열의 값은 Default 로 설정된 기본값을 적용
-- NO ACTION	: PK열의 값이 변경시 FK 열의 값은 변경 되지 않음으로 설정

-- UNIQUE

-- CHECK

-- DEFAULT
